/*! jqPaginator-1.2.0 
 * http://jqPaginator.keenwon.com
 */
define(['jquery'],function(require,exports,module){(function(a){"use strict";a.jqPaginator=function(d,c){if(!(this instanceof a.jqPaginator)){return new a.jqPaginator(d,c)}var b=this;b.$container=a(d);b.$container.data("jqPaginator",b);b.init=function(){if(c.first||c.prev||c.next||c.last||c.page){c=a.extend({},{first:"",prev:"",next:"",last:"",page:""},c)}b.options=a.extend({},a.jqPaginator.defaultOptions,c);b.verify();b.extendJquery();b.render();b.fireEvent(this.options.currentPage,"init")};b.verify=function(){var e=b.options;if(!b.isNumber(e.totalPages)){throw new Error("[jqPaginator] type error: totalPages")}if(!b.isNumber(e.totalCounts)){throw new Error("[jqPaginator] type error: totalCounts")}if(!b.isNumber(e.pageSize)){throw new Error("[jqPaginator] type error: pageSize")}if(!b.isNumber(e.currentPage)){throw new Error("[jqPaginator] type error: currentPage")}if(!b.isNumber(e.visiblePages)){throw new Error("[jqPaginator] type error: visiblePages")}if(!e.totalPages&&!e.totalCounts){throw new Error("[jqPaginator] totalCounts or totalPages is required")}if(!e.totalPages&&!e.totalCounts){throw new Error("[jqPaginator] totalCounts or totalPages is required")}if(!e.totalPages&&e.totalCounts&&!e.pageSize){throw new Error("[jqPaginator] pageSize is required")}if(e.totalCounts&&e.pageSize){e.totalPages=Math.ceil(e.totalCounts/e.pageSize)}if(e.currentPage<1||e.currentPage>e.totalPages){throw new Error("[jqPaginator] currentPage is incorrect")}if(e.totalPages<1){throw new Error("[jqPaginator] totalPages cannot be less currentPage")}};b.extendJquery=function(){a.fn.jqPaginatorHTML=function(e){return e?this.before(e).remove():a("<p>").append(this.eq(0).clone()).html()}};b.render=function(){b.renderHtml();b.setStatus();b.bindEvents()};b.renderHtml=function(){var h=[];var e=b.getPages();for(var g=0,f=e.length;g<f;g++){h.push(b.buildItem("page",e[g]))}b.isEnable("prev")&&h.unshift(b.buildItem("prev",b.options.currentPage-1));b.isEnable("first")&&h.unshift(b.buildItem("first",1));b.isEnable("statistics")&&h.unshift(b.buildItem("statistics"));b.isEnable("next")&&h.push(b.buildItem("next",b.options.currentPage+1));b.isEnable("last")&&h.push(b.buildItem("last",b.options.totalPages));if(b.options.wrapper){b.$container.html(a(b.options.wrapper).html(h.join("")).jqPaginatorHTML())}else{b.$container.html(h.join(""))}b.$container.html("<ul>"+b.$container.html()+"</ul>")};b.buildItem=function(g,f){var e=b.options[g].replace(/{{page}}/g,f).replace(/{{totalPages}}/g,b.options.totalPages).replace(/{{totalCounts}}/g,b.options.totalCounts);return a(e).attr({"jp-role":g,"jp-data":f}).jqPaginatorHTML()};b.setStatus=function(){var e=b.options;if(!b.isEnable("first")||e.currentPage===1){a("[jp-role=first]",b.$container).addClass(e.disableClass)}if(!b.isEnable("prev")||e.currentPage===1){a("[jp-role=prev]",b.$container).addClass(e.disableClass)}if(!b.isEnable("next")||e.currentPage>=e.totalPages){a("[jp-role=next]",b.$container).addClass(e.disableClass)}if(!b.isEnable("last")||e.currentPage>=e.totalPages){a("[jp-role=last]",b.$container).addClass(e.disableClass)}a("[jp-role=page]",b.$container).removeClass(e.activeClass);a("[jp-role=page][jp-data="+e.currentPage+"]",b.$container).addClass(e.activeClass)};b.getPages=function(){var e=[],k=b.options.visiblePages,h=b.options.currentPage,i=b.options.totalPages;if(k>i){k=i}var j=Math.floor(k/2);var l=h-j+1-k%2;var f=h+j;if(l<1){l=1;f=k}if(f>i){f=i;l=1+i-k}var g=l;while(g<=f){e.push(g);g++}return e};b.isNumber=function(f){var e=typeof f;return e==="number"||e==="undefined"};b.isEnable=function(e){return b.options[e]&&typeof b.options[e]==="string"};b.switchPage=function(e){b.options.currentPage=e;b.render()};b.fireEvent=function(e,f){return(typeof b.options.onPageChange!=="function")||(b.options.onPageChange(e,f)!==false)};b.callMethod=function(f,e){switch(f){case"option":b.options=a.extend({},b.options,e);b.verify();b.render();break;case"destroy":b.$container.empty();b.$container.removeData("jqPaginator");break;default:throw new Error('[jqPaginator] method "'+f+'" does not exist')}return b.$container};b.bindEvents=function(){var e=b.options;b.$container.off();b.$container.on("click","[jp-role]",function(){var g=a(this);if(g.hasClass(e.disableClass)||g.hasClass(e.activeClass)){return}var f=+g.attr("jp-data");if(b.fireEvent(f,"change")){b.switchPage(f)}})};b.init();return b.$container};a.jqPaginator.defaultOptions={wrapper:"",first:'<li class="first"><a href="javascript:;">First</a></li>',prev:'<li class="prev"><a href="javascript:;">Previous</a></li>',next:'<li class="next"><a href="javascript:;">Next</a></li>',last:'<li class="last"><a href="javascript:;">Last</a></li>',page:'<li class="page"><a href="javascript:;">{{page}}</a></li>',totalPages:0,totalCounts:0,pageSize:0,currentPage:1,visiblePages:7,disableClass:"disabled",activeClass:"active",onPageChange:null};a.fn.jqPaginator=function(){var b=this,c=Array.prototype.slice.call(arguments);if(typeof c[0]==="string"){var d=a(b).data("jqPaginator");if(!d){throw new Error("[jqPaginator] the element is not instantiated")}else{return d.callMethod(c[0],c[1])}}else{return new a.jqPaginator(this,c[0])}}})(jQuery);module.exports = jQuery;})